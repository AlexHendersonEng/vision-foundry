# C++

Contains the C++ core of the vision-foundry project.

## Table of contents

- [Directory layout](#directory-layout)
- [Build](#build)
- [Run](#run)
- [Test](#test)
- [Package](#package)

## Directory layout

```bash
vision-foundry/cpp/
‚îú‚îÄ üìÇ apps/                     # Applications
‚îÇ  ‚îî‚îÄ üìÇ app1/
‚îÇ  ‚îÇ  ‚îî‚îÄ üìù app1.cpp            # Example app
|  |  ‚îî‚îÄ üìù CMakeLists.txt
‚îÇ  ‚îî‚îÄ üìù CMakeLists.txt
‚îú‚îÄ üìÇ cmake/                    # CMake helper modules
‚îú‚îÄ üìÇ docs/                     # Documentation
‚îú‚îÄ üìÇ include/
‚îÇ  ‚îî‚îÄ üìÇ lib1/
‚îÇ     ‚îî‚îÄ üìù lib1.h              # Example include
‚îú‚îÄ üìÇ src/
‚îÇ  ‚îî‚îÄ üìÇ lib1/
‚îÇ  |  ‚îî‚îÄ üìù lib1.cpp            # Example library
|  |  ‚îî‚îÄ üìù CMakeLists.txt
‚îÇ  ‚îî‚îÄ üìù CMakeLists.txt
‚îú‚îÄ üìÇ tests/
‚îÇ  ‚îî‚îÄ üìÇ lib1/
‚îÇ  |  ‚îî‚îÄ üìù test_lib1.cpp       # Example C++ tests (use google test)
|  |  ‚îî‚îÄ üìù CMakeLists.txt
‚îÇ  ‚îî‚îÄ üìù CMakeLists.txt
‚îú‚îÄ üìÑ .clang-format             # Clang format specification
‚îú‚îÄ üìÑ CMakeLists.txt            # Top level CMakeLists.txt
‚îú‚îÄ üìÑ CMakePresets.txt          # CMake presets
‚îú‚îÄ üìÑ README.md                 # C++ README
‚îú‚îÄ üìÑ vcpkg.json                # vcpkg manifest
‚îî‚îÄ üìÑ vcpkg-configuration.json  # vcpkg configuration
```

## Build

Prerequisites

- üõ† C++ toolchain (MSVC on Windows; clang or gcc on Linux)
- üß∞ CMake >= 3.20
- üêç Python (for tooling and pre-commit hooks)

The project can be built by selecting an appropriate `build` workflow in CMake.

```bash
cmake --workflow --list-presets
cmake --workflow <build-preset>
```

## Run

After running build workflow executables can be run in the following manner.

```bash
<project-root>/out/build/<configure-preset>/apps/app1.exe
```

## Test

Testing can be run automatically by selecting a `tests` workflow in CMake.

```bash
cmake --workflow --list-presets
cmake --workflow <test-preset>
```

## Package

Packages can be generated by selecting a `package` workflow in CMake.

```bash
cmake --workflow --list-presets
cmake --workflow <package-preset>
```
